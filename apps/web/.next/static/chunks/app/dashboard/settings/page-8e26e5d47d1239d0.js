(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{7864:function(e,t,n){Promise.resolve().then(n.bind(n,8303))},8303:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var s=n(6717),a=n(4652),r=n(5749),l=n(1525),i=n(3614),c=n(6210),o=n(9761),d=n(8244),u=n(512);let h=(0,u.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),x=(0,u.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),m=(0,u.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),y=(0,u.Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),f=(0,u.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);var p=n(3519),g=n(7387),v=n(7500),b=n(8519);function j(){var e;let[t,n]=(0,g.useState)(!1),[u,j]=(0,g.useState)(null),[w,N]=(0,g.useState)(!0),[k,S]=(0,g.useState)(null),Z=(0,b.useRouter)();(0,g.useEffect)(()=>{if(!(0,v.$8)()){Z.push("/login");return}(async()=>{try{N(!0),S(null);let e=await (0,v.PR)();j(e)}catch(e){S(e instanceof Error?e.message:"Failed to load user")}finally{N(!1)}})()},[Z]);let C=async e=>{let t=await (0,v.Mc)(e);t.url&&(window.location.href=t.url)},M=async()=>{let e=await (0,v.zv)();e.url&&(window.location.href=e.url)};return(0,s.jsxs)("div",{className:"min-h-screen bg-navy-50",children:[(0,s.jsxs)("header",{className:"lg:hidden fixed top-0 left-0 right-0 bg-navy-900 text-white p-4 z-50 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.Z,{className:"w-6 h-6 text-teal-400"}),(0,s.jsx)("span",{className:"text-lg font-bold",children:"ShipLog"})]}),(0,s.jsx)("button",{onClick:()=>n(!t),className:"p-2 hover:bg-navy-800 rounded-lg transition",children:t?(0,s.jsx)(r.Z,{className:"w-6 h-6"}):(0,s.jsx)(l.Z,{className:"w-6 h-6"})})]}),t&&(0,s.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>n(!1)}),(0,s.jsxs)("aside",{className:"\n        fixed left-0 top-0 h-full w-64 bg-navy-900 text-white p-6 z-50\n        transform transition-transform duration-300 ease-in-out\n        ".concat(t?"translate-x-0":"-translate-x-full","\n        lg:translate-x-0\n      "),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-8 mt-2 lg:mt-0",children:[(0,s.jsx)(a.Z,{className:"w-8 h-8 text-teal-400"}),(0,s.jsx)("span",{className:"text-xl font-bold",children:"ShipLog"})]}),(0,s.jsxs)("nav",{className:"space-y-2",children:[(0,s.jsxs)(p.default,{href:"/dashboard",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-navy-300 hover:bg-navy-800 hover:text-white transition",onClick:()=>n(!1),children:[(0,s.jsx)(i.Z,{className:"w-5 h-5"}),"Repositories"]}),(0,s.jsxs)(p.default,{href:"/dashboard/activity",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-navy-300 hover:bg-navy-800 hover:text-white transition",onClick:()=>n(!1),children:[(0,s.jsx)(c.Z,{className:"w-5 h-5"}),"Activity"]}),(0,s.jsxs)(p.default,{href:"/dashboard/settings",className:"flex items-center gap-3 px-4 py-3 rounded-lg bg-navy-800 text-white",onClick:()=>n(!1),children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"}),"Settings"]})]}),(0,s.jsx)("div",{className:"absolute bottom-6 left-6 right-6",children:u&&(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 bg-navy-800 rounded-lg",children:[(0,s.jsx)("img",{src:u.avatarUrl||"https://github.com/github.png",alt:u.name||u.login,className:"w-8 h-8 rounded-full"}),(0,s.jsx)("span",{className:"font-medium flex-1 truncate",children:u.name||u.login}),(0,s.jsx)("button",{onClick:()=>{(0,v.qz)(),Z.push("/login")},className:"text-navy-400 hover:text-white transition",title:"Logout",children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})})]})})]}),(0,s.jsx)("main",{className:"lg:ml-64 p-4 lg:p-8 pt-20 lg:pt-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-navy-900",children:"Settings"}),(0,s.jsx)("p",{className:"text-navy-600",children:"Manage your account and preferences"})]}),w&&(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-teal-600 border-t-transparent rounded-full animate-spin"})}),k&&!w&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 text-red-700",children:k}),!w&&!k&&u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-sm border border-navy-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(h,{className:"w-5 h-5 text-navy-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-navy-900",children:"Plan"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium text-navy-900",children:["Current plan: ",u.subscriptionTier]}),(0,s.jsx)("p",{className:"text-sm text-navy-500",children:u.subscriptionStatus?"Status: ".concat(u.subscriptionStatus):"No active subscription"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:["TEAM"!==u.subscriptionTier&&(0,s.jsx)("button",{onClick:()=>C("PRO"===u.subscriptionTier?"team":"pro"),className:"px-4 py-2 text-sm bg-teal-600 text-white rounded-lg hover:bg-teal-500 transition",children:"Upgrade"}),(0,s.jsx)("button",{onClick:M,className:"px-4 py-2 text-sm text-navy-600 border border-navy-200 rounded-lg hover:bg-navy-50 transition",children:"Manage Subscription"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-sm border border-navy-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(x,{className:"w-5 h-5 text-navy-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-navy-900",children:"Profile"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,s.jsx)("img",{src:u.avatarUrl||"https://github.com/github.png",alt:u.name||u.login,className:"w-16 h-16 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-navy-900",children:u.name||u.login}),(0,s.jsx)("p",{className:"text-sm text-navy-500",children:null!==(e=u.email)&&void 0!==e?e:"No email on file"})]}),(0,s.jsx)("button",{className:"px-4 py-2 text-sm text-navy-600 border border-navy-200 rounded-lg hover:bg-navy-50 transition w-full sm:w-auto",children:"Edit Profile"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-sm border border-navy-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(m,{className:"w-5 h-5 text-navy-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-navy-900",children:"Organization"})]}),(0,s.jsx)("p",{className:"text-navy-600 mb-4",children:"Create an organization to collaborate with your team."}),(0,s.jsx)("button",{className:"px-4 py-2 text-sm bg-navy-900 text-white rounded-lg hover:bg-navy-800 transition w-full sm:w-auto",children:"Create Organization"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-sm border border-navy-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(y,{className:"w-5 h-5 text-navy-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-navy-900",children:"Appearance"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-navy-900",children:"Theme"}),(0,s.jsx)("p",{className:"text-sm text-navy-500",children:"Choose your preferred color scheme"})]}),(0,s.jsxs)("select",{className:"px-4 py-2 border border-navy-200 rounded-lg text-navy-900 bg-white w-full sm:w-auto",children:[(0,s.jsx)("option",{children:"System"}),(0,s.jsx)("option",{children:"Light"}),(0,s.jsx)("option",{children:"Dark"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-sm border border-navy-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(f,{className:"w-5 h-5 text-navy-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-navy-900",children:"API Keys"})]}),(0,s.jsx)("p",{className:"text-navy-600 mb-4",children:"Generate API keys to integrate ShipLog with your CI/CD pipeline."}),(0,s.jsx)("button",{className:"px-4 py-2 text-sm bg-teal-600 text-white rounded-lg hover:bg-teal-500 transition w-full sm:w-auto",children:"Generate API Key"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 lg:p-6 shadow-sm border border-red-200",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-red-600 mb-4",children:"Danger Zone"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-navy-900",children:"Delete Account"}),(0,s.jsx)("p",{className:"text-sm text-navy-500",children:"Permanently delete your account and all data"})]}),(0,s.jsx)("button",{className:"px-4 py-2 text-sm text-red-600 border border-red-200 rounded-lg hover:bg-red-50 transition w-full sm:w-auto",children:"Delete Account"})]})]})]})]})})]})}},7500:function(e,t,n){"use strict";n.d(t,{$8:function(){return l},$Z:function(){return b},J5:function(){return y},M7:function(){return m},Mc:function(){return o},PR:function(){return c},Sx:function(){return N},UJ:function(){return w},Xd:function(){return h},Zy:function(){return j},gr:function(){return x},kq:function(){return v},mR:function(){return f},o4:function(){return a},pW:function(){return p},qz:function(){return r},uE:function(){return u},zv:function(){return d},zz:function(){return g}});let s=()=>localStorage.getItem("shiplog_token"),a=e=>{localStorage.setItem("shiplog_token",e)},r=()=>{localStorage.removeItem("shiplog_token")},l=()=>!!s();async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s(),a={"Content-Type":"application/json",...t.headers};n&&(a.Authorization="Bearer ".concat(n));let l=await fetch("/api".concat(e),{...t,headers:a});if(401===l.status)throw r(),window.location.href="/login",Error("Unauthorized");if(!l.ok){let e=await l.json().catch(()=>({error:"Request failed"})),t=Error(e.error||e.message||"Request failed");throw t.status=l.status,t.data=e,t}return l.json()}async function c(){return i("/user/me")}async function o(e){return i("/billing/checkout?plan=".concat(e),{method:"POST"})}async function d(){return i("/billing/portal",{method:"POST"})}async function u(){return i("/repos")}async function h(e){return i("/repos/".concat(e))}async function x(){return i("/repos/github/available")}async function m(e){return i("/repos/connect",{method:"POST",body:JSON.stringify({githubId:e.githubId,owner:e.owner,repo:e.name,fullName:e.fullName,description:e.description})})}async function y(e){return i("/repos/".concat(e),{method:"DELETE"})}async function f(e,t){return i("/repos/".concat(e,"/channels"),{method:"POST",body:JSON.stringify(t)})}async function p(e,t,n){return i("/repos/".concat(e,"/channels/").concat(t),{method:"PATCH",body:JSON.stringify(n)})}async function g(e,t){return i("/repos/".concat(e,"/channels/").concat(t),{method:"DELETE"})}async function v(e){return i("/releases/".concat(e))}async function b(e,t){return i("/releases/".concat(e,"/regenerate"),{method:"POST",body:JSON.stringify(t||{})})}async function j(e,t){return i("/releases/".concat(e,"/publish"),{method:"POST",body:JSON.stringify({channels:t})})}async function w(e,t){return i("/releases/".concat(e,"/notes"),{method:"PATCH",body:JSON.stringify(t)})}async function N(e,t,n){let s=await fetch("/api/changelog/".concat(e,"/").concat(t).concat(n?"?audience=".concat(n):""));if(!s.ok)throw Error((await s.json().catch(()=>({error:"Not found"}))).error||"Changelog not found");return s.json()}},512:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(7387),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let n=(0,s.forwardRef)((n,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:h,...x}=n;return(0,s.createElement)("svg",{ref:l,...a,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(r(e)),u].join(" "),...x},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(h)?h:[h]])});return n.displayName="".concat(e),n}},6210:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(512).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},3614:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(512).Z)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},8244:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(512).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},1525:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(512).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},9761:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(512).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4652:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(512).Z)("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]])},5749:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(512).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3519:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var s=n(4580),a=n.n(s)},8519:function(e,t,n){"use strict";var s=n(5878);n.o(s,"useParams")&&n.d(t,{useParams:function(){return s.useParams}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[580,407,809,744],function(){return e(e.s=7864)}),_N_E=e.O()}]);
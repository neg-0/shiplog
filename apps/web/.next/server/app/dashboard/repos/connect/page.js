(()=>{var e={};e.id=217,e.ids=[217],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9803:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(8e3),s(5508),s(8147);var a=s(3397),r=s(1566),n=s(4535),l=s.n(n),i=s(621),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["dashboard",{children:["repos",{children:["connect",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8e3)),"/home/node/.openclaw/workspace/shiplog-fix2/apps/web/src/app/dashboard/repos/connect/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5508)),"/home/node/.openclaw/workspace/shiplog-fix2/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,8147,23)),"next/dist/client/components/not-found-error"]}],c=["/home/node/.openclaw/workspace/shiplog-fix2/apps/web/src/app/dashboard/repos/connect/page.tsx"],h="/dashboard/repos/connect/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/repos/connect/page",pathname:"/dashboard/repos/connect",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3666:(e,t,s)=>{Promise.resolve().then(s.bind(s,9530))},8861:()=>{},9640:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,40,23)),Promise.resolve().then(s.t.bind(s,6605,23)),Promise.resolve().then(s.t.bind(s,6932,23)),Promise.resolve().then(s.t.bind(s,9708,23)),Promise.resolve().then(s.t.bind(s,2804,23)),Promise.resolve().then(s.t.bind(s,2028,23))},9530:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(7122),r=s(9529),n=s(9754),l=s(7646),i=s(2472),o=s(2379),d=s(5608),c=s(3280),h=s(3461);let u=(0,s(9082).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var m=s(1611),x=s(7587),p=s(6619),y=s(2226),g=s(3217),f=s(9196),b=s(5664);function v(){let[e,t]=(0,g.useState)(!1),[s,v]=(0,g.useState)([]),[j,w]=(0,g.useState)([]),[N,k]=(0,g.useState)(""),[Z,S]=(0,g.useState)(!0),[P,q]=(0,g.useState)(null),[M,C]=(0,g.useState)(null),[$,T]=(0,g.useState)(new Set),[_,A]=(0,g.useState)(null);(0,f.useRouter)();let E=async e=>{try{q(null),A(null),C(e.githubId),await (0,b.M7)(e),T(t=>new Set(t).add(e.githubId)),setTimeout(()=>{v(t=>t.filter(t=>t.githubId!==e.githubId))},1e3)}catch(e){403===e.status&&e.data?.upgradeRequired?A({requiredTier:e.data.requiredTier??"PRO",message:e.message}):q(e.message||"Failed to connect repository")}finally{C(null)}},z=async()=>{if(!_)return;let e="TEAM"===_.requiredTier?"team":"pro",t=await (0,b.Mc)(e);t.url&&(window.location.href=t.url)};return(0,a.jsxs)("div",{className:"min-h-screen bg-navy-50",children:[(0,a.jsxs)("header",{className:"lg:hidden fixed top-0 left-0 right-0 bg-navy-900 text-white p-4 z-50 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(r.Z,{className:"w-6 h-6 text-teal-400"}),a.jsx("span",{className:"text-lg font-bold",children:"ShipLog"})]}),a.jsx("button",{onClick:()=>t(!e),className:"p-2 hover:bg-navy-800 rounded-lg transition",children:e?a.jsx(n.Z,{className:"w-6 h-6"}):a.jsx(l.Z,{className:"w-6 h-6"})})]}),e&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>t(!1)}),(0,a.jsxs)("aside",{className:`
        fixed left-0 top-0 h-full w-64 bg-navy-900 text-white p-6 z-50
        transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0
      `,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-8 mt-2 lg:mt-0",children:[a.jsx(r.Z,{className:"w-8 h-8 text-teal-400"}),a.jsx("span",{className:"text-xl font-bold",children:"ShipLog"})]}),(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsxs)(y.default,{href:"/dashboard",className:"flex items-center gap-3 px-4 py-3 rounded-lg bg-navy-800 text-white",onClick:()=>t(!1),children:[a.jsx(i.Z,{className:"w-5 h-5"}),"Repositories"]}),(0,a.jsxs)(y.default,{href:"/dashboard/activity",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-navy-300 hover:bg-navy-800 hover:text-white transition",onClick:()=>t(!1),children:[a.jsx(o.Z,{className:"w-5 h-5"}),"Activity"]}),(0,a.jsxs)(y.default,{href:"/dashboard/settings",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-navy-300 hover:bg-navy-800 hover:text-white transition",onClick:()=>t(!1),children:[a.jsx(d.Z,{className:"w-5 h-5"}),"Settings"]})]}),a.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 bg-navy-800 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-navy-700"}),a.jsx("span",{className:"font-medium flex-1",children:"User"}),a.jsx("button",{className:"text-navy-400 hover:text-white transition",children:a.jsx(c.Z,{className:"w-4 h-4"})})]})})]}),a.jsx("main",{className:"lg:ml-64 p-4 lg:p-8 pt-20 lg:pt-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)(y.default,{href:"/dashboard",className:"inline-flex items-center gap-2 text-navy-600 hover:text-navy-900 mb-6 transition",children:[a.jsx(h.Z,{className:"w-4 h-4"}),"Back to Dashboard"]}),(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-navy-900",children:"Connect Repository"}),a.jsx("p",{className:"text-navy-600",children:"Select a GitHub repository to connect to ShipLog"})]}),(0,a.jsxs)("div",{className:"relative mb-6",children:[a.jsx(u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-navy-400"}),a.jsx("input",{type:"text",placeholder:"Search repositories...",value:N,onChange:e=>k(e.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-navy-200 bg-white text-navy-900 placeholder:text-navy-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),P&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[a.jsx(m.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-red-800 font-medium",children:"Error"}),a.jsx("p",{className:"text-red-600 text-sm",children:P})]})]}),_&&(0,a.jsxs)("div",{className:"bg-teal-50 border border-teal-200 rounded-xl p-4 mb-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-teal-800 font-medium",children:"Upgrade required"}),a.jsx("p",{className:"text-teal-700 text-sm",children:_.message})]}),(0,a.jsxs)("button",{onClick:z,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-500 transition",children:["Upgrade to ",_.requiredTier]})]}),Z&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(x.Z,{className:"w-8 h-8 text-teal-600 animate-spin"})}),!Z&&j.length>0&&a.jsx("div",{className:"space-y-3",children:j.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl p-4 lg:p-5 shadow-sm border border-navy-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"w-10 h-10 bg-navy-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(i.Z,{className:"w-5 h-5 text-navy-600"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-semibold text-navy-900 truncate",children:e.fullName}),e.description&&a.jsx("p",{className:"text-sm text-navy-500 truncate",children:e.description})]})]}),a.jsx("button",{onClick:()=>E(e),disabled:M===e.githubId||$.has(e.githubId),className:`px-4 py-2 rounded-lg font-medium transition flex items-center justify-center gap-2 w-full sm:w-auto ${$.has(e.githubId)?"bg-teal-100 text-teal-700":"bg-teal-600 text-white hover:bg-teal-500 disabled:opacity-50"}`,children:M===e.githubId?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):$.has(e.githubId)?(0,a.jsxs)(a.Fragment,{children:[a.jsx(p.Z,{className:"w-4 h-4"}),"Connected"]}):"Connect"})]},e.githubId))}),!Z&&0===j.length&&s.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl p-8 text-center border border-navy-100",children:[a.jsx(u,{className:"w-12 h-12 text-navy-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-navy-900 mb-2",children:"No matching repositories"}),a.jsx("p",{className:"text-navy-600",children:"Try a different search term"})]}),!Z&&0===s.length&&!P&&(0,a.jsxs)("div",{className:"bg-white rounded-xl p-8 text-center border border-navy-100",children:[a.jsx(i.Z,{className:"w-12 h-12 text-navy-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-navy-900 mb-2",children:"All repositories connected"}),a.jsx("p",{className:"text-navy-600 mb-4",children:"You've already connected all your GitHub repositories"}),a.jsx(y.default,{href:"/dashboard",className:"inline-block bg-navy-900 text-white px-6 py-3 rounded-lg hover:bg-navy-800 transition",children:"Back to Dashboard"})]})]})})]})}},5664:(e,t,s)=>{"use strict";s.d(t,{$8:()=>n,$Z:()=>p,J5:()=>c,M7:()=>d,Mc:()=>i,UJ:()=>g,Zy:()=>y,kq:()=>x,mR:()=>h,pW:()=>u,qz:()=>r,zv:()=>o,zz:()=>m});let a=()=>null,r=()=>{localStorage.removeItem("shiplog_token")},n=()=>!!a();async function l(e,t={}){let s=a(),n={"Content-Type":"application/json",...t.headers};s&&(n.Authorization=`Bearer ${s}`);let l=await fetch(`/api${e}`,{...t,headers:n});if(401===l.status)throw r(),Error("Unauthorized");if(!l.ok){let e=await l.json().catch(()=>({error:"Request failed"})),t=Error(e.error||e.message||"Request failed");throw t.status=l.status,t.data=e,t}return l.json()}async function i(e){return l(`/billing/checkout?plan=${e}`,{method:"POST"})}async function o(){return l("/billing/portal",{method:"POST"})}async function d(e){return l("/repos/connect",{method:"POST",body:JSON.stringify({githubId:e.githubId,owner:e.owner,repo:e.name,fullName:e.fullName,description:e.description})})}async function c(e){return l(`/repos/${e}`,{method:"DELETE"})}async function h(e,t){return l(`/repos/${e}/channels`,{method:"POST",body:JSON.stringify(t)})}async function u(e,t,s){return l(`/repos/${e}/channels/${t}`,{method:"PATCH",body:JSON.stringify(s)})}async function m(e,t){return l(`/repos/${e}/channels/${t}`,{method:"DELETE"})}async function x(e){return l(`/releases/${e}`)}async function p(e,t){return l(`/releases/${e}/regenerate`,{method:"POST",body:JSON.stringify(t||{})})}async function y(e,t){return l(`/releases/${e}/publish`,{method:"POST",body:JSON.stringify({channels:t})})}async function g(e,t){return l(`/releases/${e}/notes`,{method:"PATCH",body:JSON.stringify(t)})}},9082:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(3217),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,...h},u)=>(0,a.createElement)("svg",{ref:u,...r,width:l,height:l,stroke:s,strokeWidth:o?24*Number(i)/Number(l):i,className:["lucide",`lucide-${n(e)}`,d].join(" "),...h},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},1611:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3461:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2379:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},6619:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2472:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},7587:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3280:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},7646:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},5608:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9529:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]])},9754:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9082).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2226:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(3703),r=s.n(a)},9196:(e,t,s)=>{"use strict";var a=s(4424);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8e3:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(9914).createProxy)(String.raw`/home/node/.openclaw/workspace/shiplog-fix2/apps/web/src/app/dashboard/repos/connect/page.tsx#default`)},5508:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>r});var a=s(7114);s(3194);let r={title:"ShipLog - Release notes that ship themselves",description:"Automatically generate and distribute release notes tailored for customers, developers, and execs â€” from your GitHub releases.",keywords:["changelog","release notes","github","automation","developer tools"],authors:[{name:"ShipLog"}],openGraph:{title:"ShipLog - Release notes that ship themselves",description:"One release. Every audience. Zero effort.",url:"https://shiplog.io",siteName:"ShipLog",type:"website"},twitter:{card:"summary_large_image",title:"ShipLog",description:"Release notes that ship themselves"}};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"min-h-screen font-sans antialiased",children:e})})}},3194:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[547,703],()=>s(9803));module.exports=a})();